<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="style/index.css">
		<title>Webserv</title>
	</head>
	<body>
		<header>
			<h2>Webserv</h2>
			<div>
				<a style="margin-left: 10px; margin-right: 10px;" href="cgi/">Cgi</a>
				<a style="margin-left: 10px; margin-right: 10px;" href="about.html">About</a>
			</div>
		</header>
		<section style="margin-top: 100px;">
			<h2>Welcome on our 42 webserv project!</h2>
			<p>Here you will learn about socket connection, polling, http 1.1 and a lot more !</p>
		</section>

		<section style="margin-top: 20px;">
			<div class="section">
				<h2>Send POST Request with File</h2>
				<form id="postForm">
					<label for="postFile">Select a file to upload:</label><br>
					<input type="file" id="postFile" name="postFile" required><br>
					<button type="submit">Send POST Request</button>
				</form>
			</div>
		</section>
	</body>
	<script>
		// Handle POST request with file upload
		document.getElementById('postForm').addEventListener('submit', function(event) {
			event.preventDefault();
			var fileInput = document.getElementById('postFile');
			var formData = new FormData();
			formData.append('file', fileInput.files[0]);

			fetch('/uploads/' + fileInput.files[0].name, {
				method: 'POST',
				body: formData
			})
			.then(response => response.text())
			.then(data => alert('POST response is sending...'))
			.catch(error => console.error('Error:', error));
		});
	</script>
</html>